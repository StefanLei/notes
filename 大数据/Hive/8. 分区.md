### Hive 分区 ( partition )

#### 单分区

假如现在我们公司一天产生 3 亿的数据量，那么为了方便管理和查询，此时可以建立分区（可按日期 部门等具体业务分区）。分门别类的管理。 

==分区需要在定义表的时候创建==

```sql
create table test(
	id int,
    name string
)
# 这里就是定义了一个分区,相当于是一个额外的字段，但是在原数据文件里面不需要
partitioned by (dt strin)
row format delimited fields terminated by ','
lines terminated by '\n';
```

==插入数据==

```sql
load data inpath '/name.txt' into table names partition (dt=2017)
```

---

#### 多分区

==创建分区==

```sql
create table test(
    id int,
    name string
)
partitioned by (year string,month string)
row format delimited fields terminated by ','
lines terminated by '\n'
```

==插入数据==

```sql
# 定义了几个分区，就需要写几个分区。
load data local inpath '/root/names.txt' into table test partition(year=2018,month=12)
```

